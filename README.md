# Meter Reader

**Meter Reader** — это мобильное приложение на базе React Native и Expo для автоматического распознавания и хранения показаний газовых (и потенциально других) счетчиков.

---

## Основные возможности

- **Съемка показаний счетчика через камеру**: приложение использует камеру устройства для захвата изображения дисплея счетчика.
- **Автоматическое распознавание цифр**: интеграция моделей машинного обучения (YOLO и OCR) для выделения и распознавания показаний на фото.
- **Сохранение истории**: все показания сохраняются локально в базе данных (SQLite), с возможностью просмотра истории и удаления отдельных записей.
- **Экспорт данных**: экспорт истории показаний в форматах CSV и JSON, с возможностью поделиться файлом.
- **Удобный интерфейс**: современный дизайн, простая навигация по вкладкам (Главная, Камера, История, Настройки).
- **Real-Time Распознавание**: до 9 FPS! Время распознавания `~110 ms`
- **Поддержка нескольких вариантов заполнения показателей счётчика**: Ручной, Real-Time YOLO, YOLO (Post Processing) и OCR

---

## Структура приложения

- **Главная**: статистика по показаниям, быстрый доступ к съемке и истории.
- **Камера**: основной экран для съемки и распознавания показаний. Используются модели YOLO:
  - `better_float32_416.tflite` — для поиска цифр в режиме Real-Time (*GPU Delegated*)
  - `better_float32_640.tflite` — для поиска цифр (*GPU Delegated*)
  - `indicator_float32_224.tflite` — для детекции области показаний (*CPU*)  
  - OCR-модель для распознавания цифр (`react-native-executorch`).
- **История**: просмотр всех сохранённых показаний с датой, временем, фото и возможностью удаления.
- **Настройки**: экспорт/очистка данных, справка, информация о приложении.

---

## Технологии и стек

- **React Native** + **Expo** — Фреймворки
- **react-native-vision-camera** — Доступ к камере
- **react-native-fast-tflite** — запуск tflite-моделей на устройстве с поддержкой *android-gpu*
- **expo-sqlite** — локальное хранение данных
- **expo-image-manipulator** — обработка изображений
- **expo-sharing** — экспорт данных
- **pngjs** — декодирование PNG
- **Модели машинного обучения** YOLO в формате `.tflite`, OCR встроенный в библиотеку `react-native-executorch`

---

## Установка и запуск

1. Клонируйте репозиторий:
   ```sh
   git clone <repo-url>
   cd MeterDetector
   ```
2. Установите зависимости:
   ```sh
   npm install
   ```
3. Запустите проект:
   ```sh
   npm run android
   ```

---

## Структура проекта

- `app/` — основные экраны и навигация
- `assets/models/` — tflite-модели для распознавания
- `utils/` — вспомогательные функции (анализ изображений, работа с хранилищем)
- `hooks/` — кастомные хуки для работы с ИИ и камерой
- `types/` — типы TypeScript

---

## Пример использования

1. Откройте приложение и выберите вкладку "Камера".
2. Наведите камеру на дисплей счетчика, чтобы он оказался в центре.
3. Нажмите кнопку захвата — приложение автоматически распознает и предложит сохранить показание.
4. Просматривайте историю на вкладке "История" или экспортируйте данные через "Настройки".
